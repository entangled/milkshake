<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Milkshake</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">milkshake-0.1.0.0: Minimal build system combining Dhall, Shake and FSNotify.</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>(c) Netherlands eScience Center 2021<br />Johan Hidding 2021</td></tr><tr><th>License</th><td>Apache-2</td></tr><tr><th>Maintainer</th><td>j.hidding@esciencenter.nl</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Milkshake</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Experimental prototype: combine Dhall, Shake and FSNotify to create a
generic build system that triggers on filesystem events.</p><h1>Why</h1><p>Use this if you need to embed a configurable build system in your application.
You can use <code>Milkshake</code> to read Dhall files that specify custom sets of actions,
plug your built-in functionality and run the workflow using <code>Shake</code>.</p><p>We also give an executable <code>milkshake</code> that you can run directly.</p><h1>Nomenclature</h1><ul><li><p>Target:</p><ul><li>File target: a target identified by a file.</li><li>Virtual target: a target that acts like a file, but could be anything, e.g. a database entry.</li><li>Phony target: a target that is not.</li></ul></li></ul><ul><li>Action: an <em>action</em> is a scriptlet with fixed input and output targets.</li><li>Rule: a <em>rule</em> acts like a function, taking a list of targets and a list of
dependencies, generating an <em>action</em>.</li><li>Include: an <em>include</em> statement specifies a target that should be a valid Milkshake
script, this script is then loaded and included into the current set of statements.
Include statements are loaded recursively, going a bit against the grain of <code>Shake</code>.</li><li>Watches: while Milkshake is running, files can be watched for changes, triggering rebuilds.</li></ul><h1>Tutorial</h1><p>Milkshake uses the Dhall language to specify dependencies between actions. In the most basic operation, we have <code>Target</code> and <code>Action</code>. A <code>Target</code> is usually one or more files, while an <code>Action</code> is a shell script that would generate said <code>Target</code>, after satisfying a set of dependencies (also <code>Target</code>).</p><p>The resulting configuration is a list of <code>Action</code>. Since we will add other forms of *statements* later on, we use some Dhall functions to write out actions. For example, to create a file `hello.txt` and consequently put it in all caps, could be done as follows:</p><pre>let ms = <a href="https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall">https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall</a>

in [ ms.fileAction &quot;hello.txt&quot; ([] : List Text) ''
         echo &quot;Hello, World&quot; &gt; hello.txt
         ''
   , ms.fileAction &quot;HELLO.TXT&quot; [&quot;hello.txt&quot;] ''
         tr a-z A-Z &lt; hello.txt &gt; HELLO.TXT
         ''
   , ms.mainAction [&quot;HELLO.TXT&quot;]
]
</pre><h2>Rules</h2><p>Because it is not so nice to write out every action explicitely, we can define rules. A rule is a function from input targets to output targets. A rule can be triggered by calling it:</p><pre>let ms = <a href="https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall">https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall</a>
let Text/concat = <a href="https://prelude.dhall-lang.org/Text/concat">https://prelude.dhall-lang.org/Text/concat</a>

in [ ms.fileAction &quot;secret.txt&quot; ([] : List Text)
         ''
         echo &quot;Uryyb, Jbeyq!&quot; &gt; secret.txt
         ''
   , ms.fileRule &quot;rot13&quot; (\(tgt : Text) -&gt; \(deps : List Text) -&gt;
         ''
         tr a-zA-Z n-za-mN-ZA-M &lt; ${Text/concat deps} &gt; ${tgt}
         '')
   , ms.fileCall &quot;rot13&quot; &quot;message.txt&quot; [&quot;secret.txt&quot;]
   , ms.mainAction [&quot;message.txt&quot;]
]
</pre><h2>Includes</h2><p>Includes allow one to incorporate the contents of one Milkshake file into an other. The nice thing is that the include can be the result of an action. As an example we have here a template that takes a number as an argument:</p><pre>let ms = <a href="https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall">https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall</a>

in (x : Natural) -&gt;
    [ ms.fileAction &quot;answer.txt&quot; ([] : List Text)
        ''
        echo &quot;${Natural/show x}&quot; &gt; answer.txt
        ''
    ]
</pre><p>The main file imports the generated include</p><pre>let ms = <a href="https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall">https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall</a>

in  [ ms.fileAction &quot;include.dhall&quot; ([] : List Text)
        ''
        dhall &lt;&lt;&lt; &quot;./template.dhall 42&quot; &gt; include.dhall
        ''
    , ms.include &quot;include.dhall&quot;
    , ms.main [&quot;answer.txt&quot;]
    ]
</pre><h2>Watches</h2><p>Milkshake can set a number of watches to trigger a file to be built.</p><pre>let ms = <a href="https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall">https://raw.githubusercontent.com/entangled/milkshake/master/data/Milkshake.dhall</a>

in [ ms.fileRule &quot;rot13&quot; (\(tgt : Text) -&gt; \(deps : List Text) -&gt;
         ''
         tr a-zA-Z n-za-mN-ZA-M &lt; ${Text/concat deps} &gt; ${tgt}
         '')
   , ms.fileCall &quot;rot13&quot; &quot;secret.txt&quot; [&quot;message.txt&quot;]
   , ms.watch [&quot;message.txt&quot;] (ms.Target.File &quot;secret.txt&quot;)
]
</pre></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Config">Config</a> = <a href="#v:Config">Config</a> {<ul class="subs"><li><a href="#v:rules">rules</a> :: <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="Milkshake-Data.html#t:Generator" title="Milkshake.Data">Generator</a></li><li><a href="#v:triggers">triggers</a> :: [<a href="Milkshake-Data.html#t:Call" title="Milkshake.Data">Call</a>]</li><li><a href="#v:actions">actions</a> :: [<a href="Milkshake-Data.html#t:Action" title="Milkshake.Data">Action</a>]</li><li><a href="#v:includes">includes</a> :: [<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>]</li><li><a href="#v:mainTarget">mainTarget</a> :: [<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>]</li><li><a href="#v:watches">watches</a> :: [<a href="Milkshake-Data.html#t:Watch" title="Milkshake.Data">Watch</a>]</li></ul>}</li><li class="src short"><a href="#v:readConfig">readConfig</a> :: <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m <a href="Milkshake.html#t:Config" title="Milkshake">Config</a></li><li class="src short"><a href="#v:loadIncludes">loadIncludes</a> :: (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/exceptions-0.10.4/Control-Monad-Catch.html#t:MonadThrow" title="Control.Monad.Catch">MonadThrow</a> m, <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; m <a href="Milkshake.html#t:Config" title="Milkshake">Config</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:WatchManager">WatchManager</a></li><li class="src short"><span class="keyword">data</span> <a href="#t:Event">Event</a></li><li class="src short"><a href="#v:monitor">monitor</a> :: (MonadUnliftIO m, <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> env m, HasLogFunc env, <a href="Milkshake.html#t:HasWatchManager" title="Milkshake">HasWatchManager</a> env, <a href="Milkshake.html#t:HasEventChannel" title="Milkshake">HasEventChannel</a> env event) =&gt; [<a href="Milkshake-Monitor.html#t:Watch" title="Milkshake.Monitor">Watch</a> m event] -&gt; m (<a href="Milkshake-Monitor.html#t:StopListening" title="Milkshake.Monitor">StopListening</a> m)</li><li class="src short"><span class="keyword">class</span> <a href="#t:HasWatchManager">HasWatchManager</a> env <span class="keyword">where</span><ul class="subs"><li><a href="#v:watchManager">watchManager</a> :: Lens' env <a href="Milkshake.html#t:WatchManager" title="Milkshake">WatchManager</a></li></ul></li><li class="src short"><span class="keyword">class</span> <a href="#t:HasEventChannel">HasEventChannel</a> env event <span class="keyword">where</span><ul class="subs"><li><a href="#v:eventChannel">eventChannel</a> :: Lens' env (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Concurrent-Chan.html#t:Chan" title="Control.Concurrent.Chan">Chan</a> event)</li></ul></li><li class="src short"><a href="#v:withWatchManager">withWatchManager</a> :: MonadUnliftIO m =&gt; (<a href="Milkshake.html#t:WatchManager" title="Milkshake">WatchManager</a> -&gt; m a) -&gt; m a</li><li class="src short"><a href="#v:shake">shake</a> :: ShakeOptions -&gt; Rules () -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> ()</li><li class="src short"><a href="#v:shakeOptions">shakeOptions</a> :: ShakeOptions</li><li class="src short"><a href="#v:want">want</a> :: Partial =&gt; [<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>] -&gt; Rules ()</li><li class="src short"><a href="#v:enter">enter</a> :: <a href="Milkshake-Data.html#t:Action" title="Milkshake.Data">Action</a> -&gt; Rules ()</li><li class="src short"><a href="#v:immediateActions">immediateActions</a> :: <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Milkshake-Error.html#t:MilkshakeError" title="Milkshake.Error">MilkshakeError</a> [<a href="Milkshake-Data.html#t:Action" title="Milkshake.Data">Action</a>]</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Config" class="def">Config</a> <a href="#t:Config" class="selflink">#</a></p><div class="doc"><p>Transposed data record of a list of <code><a href="Milkshake-Data.html#t:Stmt" title="Milkshake.Data">Stmt</a></code>. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Config" class="def">Config</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:rules" class="def">rules</a> :: <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="Milkshake-Data.html#t:Generator" title="Milkshake.Data">Generator</a></dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:triggers" class="def">triggers</a> :: [<a href="Milkshake-Data.html#t:Call" title="Milkshake.Data">Call</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:actions" class="def">actions</a> :: [<a href="Milkshake-Data.html#t:Action" title="Milkshake.Data">Action</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:includes" class="def">includes</a> :: [<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:mainTarget" class="def">mainTarget</a> :: [<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>]</dfn><div class="doc empty">&nbsp;</div></li><li><dfn class="src"><a id="v:watches" class="def">watches</a> :: [<a href="Milkshake-Data.html#t:Watch" title="Milkshake.Data">Watch</a>]</dfn><div class="doc empty">&nbsp;</div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Config">Instances</h4><details id="i:Config" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Config:Generic:1"></span> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Generic" title="GHC.Generics">Generic</a> <a href="Milkshake.html#t:Config" title="Milkshake">Config</a></span> <a href="#t:Config" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Config:Generic:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Milkshake-Data.html">Milkshake.Data</a></p> <div class="subs associated-types"><p class="caption">Associated Types</p><p class="src"><span class="keyword">type</span> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> :: <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Kind.html#t:Type" title="Data.Kind">Type</a> <a href="#t:Rep" class="selflink">#</a></p></div> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:from">from</a> :: <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> x <a href="#v:from" class="selflink">#</a></p><p class="src"><a href="#v:to">to</a> :: <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> x -&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> <a href="#v:to" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Config:Semigroup:2"></span> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Prelude.html#t:Semigroup" title="Prelude">Semigroup</a> <a href="Milkshake.html#t:Config" title="Milkshake">Config</a></span> <a href="#t:Config" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Config:Semigroup:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Milkshake-Data.html">Milkshake.Data</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-60--62-">(&lt;&gt;)</a> :: <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> <a href="#v:-60--62-" class="selflink">#</a></p><p class="src"><a href="#v:sconcat">sconcat</a> :: <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-List-NonEmpty.html#t:NonEmpty" title="Data.List.NonEmpty">NonEmpty</a> <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> <a href="#v:sconcat" class="selflink">#</a></p><p class="src"><a href="#v:stimes">stimes</a> :: <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Prelude.html#t:Integral" title="Prelude">Integral</a> b =&gt; b -&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> <a href="#v:stimes" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Config:Monoid:3"></span> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Monoid.html#t:Monoid" title="Data.Monoid">Monoid</a> <a href="Milkshake.html#t:Config" title="Milkshake">Config</a></span> <a href="#t:Config" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Config:Monoid:3"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Milkshake-Data.html">Milkshake.Data</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:mempty">mempty</a> :: <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> <a href="#v:mempty" class="selflink">#</a></p><p class="src"><a href="#v:mappend">mappend</a> :: <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> <a href="#v:mappend" class="selflink">#</a></p><p class="src"><a href="#v:mconcat">mconcat</a> :: [<a href="Milkshake.html#t:Config" title="Milkshake">Config</a>] -&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> <a href="#v:mconcat" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Config:Rep:4"></span> <span class="keyword">type</span> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Milkshake.html#t:Config" title="Milkshake">Config</a></span> <a href="#t:Config" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Config:Rep:4"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Milkshake-Data.html">Milkshake.Data</a></p> <div class="src"><span class="keyword">type</span> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rep" title="GHC.Generics">Rep</a> <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> = <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:D1" title="GHC.Generics">D1</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaData" title="GHC.Generics">MetaData</a> &quot;Config&quot; &quot;Milkshake.Data&quot; &quot;milkshake-0.1.0.0-inplace&quot; '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#v:False" title="Data.Bool">False</a>) (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:C1" title="GHC.Generics">C1</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaCons" title="GHC.Generics">MetaCons</a> &quot;Config&quot; '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:PrefixI" title="GHC.Generics">PrefixI</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#v:True" title="Data.Bool">True</a>) ((<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;rules&quot;) '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/containers-0.6.5.1/Data-Map-Strict.html#t:Map" title="Data.Map.Strict">Map</a> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/text-1.2.4.1/Data-Text.html#t:Text" title="Data.Text">Text</a> <a href="Milkshake-Data.html#t:Generator" title="Milkshake.Data">Generator</a>)) <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;triggers&quot;) '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> [<a href="Milkshake-Data.html#t:Call" title="Milkshake.Data">Call</a>]) <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;actions&quot;) '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> [<a href="Milkshake-Data.html#t:Action" title="Milkshake.Data">Action</a>]))) <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;includes&quot;) '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> [<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>]) <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;mainTarget&quot;) '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> [<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>]) <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t::-42-:" title="GHC.Generics">:*:</a> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:S1" title="GHC.Generics">S1</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:MetaSel" title="GHC.Generics">MetaSel</a> ('<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Maybe.html#v:Just" title="Data.Maybe">Just</a> &quot;watches&quot;) '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceUnpackedness" title="GHC.Generics">NoSourceUnpackedness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:NoSourceStrictness" title="GHC.Generics">NoSourceStrictness</a> '<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#v:DecidedLazy" title="GHC.Generics">DecidedLazy</a>) (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/GHC-Generics.html#t:Rec0" title="GHC.Generics">Rec0</a> [<a href="Milkshake-Data.html#t:Watch" title="Milkshake.Data">Watch</a>])))))</div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:readConfig" class="def">readConfig</a> :: <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m =&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a> -&gt; m <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> <a href="#v:readConfig" class="selflink">#</a></p><div class="doc"><p>Read a script directly to <code><a href="Milkshake.html#t:Config" title="Milkshake">Config</a></code> record. </p></div></div><div class="top"><p class="src"><a id="v:loadIncludes" class="def">loadIncludes</a> :: (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/exceptions-0.10.4/Control-Monad-Catch.html#t:MonadThrow" title="Control.Monad.Catch">MonadThrow</a> m, <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Monad-IO-Class.html#t:MonadIO" title="Control.Monad.IO.Class">MonadIO</a> m) =&gt; <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; m <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> <a href="#v:loadIncludes" class="selflink">#</a></p><div class="doc"><p>Recursively loads include statements, until no includes are left. </p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:WatchManager" class="def">WatchManager</a> <a href="#t:WatchManager" class="selflink">#</a></p></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Event" class="def">Event</a> <a href="#t:Event" class="selflink">#</a></p><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Event">Instances</h4><details id="i:Event" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Event:Eq:1"></span> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Eq.html#t:Eq" title="Data.Eq">Eq</a> <a href="Milkshake.html#t:Event" title="Milkshake">Event</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Event:Eq:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="System-FSNotify-Types.html">System.FSNotify.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Milkshake.html#t:Event" title="Milkshake">Event</a> -&gt; <a href="Milkshake.html#t:Event" title="Milkshake">Event</a> -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-61--61-" class="selflink">#</a></p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Milkshake.html#t:Event" title="Milkshake">Event</a> -&gt; <a href="Milkshake.html#t:Event" title="Milkshake">Event</a> -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Bool.html#t:Bool" title="Data.Bool">Bool</a> <a href="#v:-47--61-" class="selflink">#</a></p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Event:Show:2"></span> <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:Show" title="Text.Show">Show</a> <a href="Milkshake.html#t:Event" title="Milkshake">Event</a></span></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Event:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="System-FSNotify-Types.html">System.FSNotify.Types</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Int.html#t:Int" title="Data.Int">Int</a> -&gt; <a href="Milkshake.html#t:Event" title="Milkshake">Event</a> -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showsPrec" class="selflink">#</a></p><p class="src"><a href="#v:show">show</a> :: <a href="Milkshake.html#t:Event" title="Milkshake">Event</a> -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-String.html#t:String" title="Data.String">String</a> <a href="#v:show" class="selflink">#</a></p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Milkshake.html#t:Event" title="Milkshake">Event</a>] -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Text-Show.html#t:ShowS" title="Text.Show">ShowS</a> <a href="#v:showList" class="selflink">#</a></p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:monitor" class="def">monitor</a> :: (MonadUnliftIO m, <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/mtl-2.2.2/Control-Monad-Reader-Class.html#t:MonadReader" title="Control.Monad.Reader.Class">MonadReader</a> env m, HasLogFunc env, <a href="Milkshake.html#t:HasWatchManager" title="Milkshake">HasWatchManager</a> env, <a href="Milkshake.html#t:HasEventChannel" title="Milkshake">HasEventChannel</a> env event) =&gt; [<a href="Milkshake-Monitor.html#t:Watch" title="Milkshake.Monitor">Watch</a> m event] -&gt; m (<a href="Milkshake-Monitor.html#t:StopListening" title="Milkshake.Monitor">StopListening</a> m) <a href="#v:monitor" class="selflink">#</a></p><div class="doc"><p>Starts a number of watches, where each watch is specified by a list of
    glob-patterns and a handler that converts <code><a href="Milkshake.html#t:Event" title="Milkshake">Event</a></code> to a message. Generated
    events are pushed to the given channel. Returns an IO action that will stop
    all of these watches.</p><p>The glob-pattern is expanded such that all directories containing matching
    files are watched. In addition we also watch these directories if they're
    empty, so that we trigger on file creation events. </p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasWatchManager" class="def">HasWatchManager</a> env <span class="keyword">where</span> <a href="#t:HasWatchManager" class="selflink">#</a></p><div class="doc"><p>RIO class for obtaining the <code><a href="Milkshake.html#t:WatchManager" title="Milkshake">WatchManager</a></code>.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:watchManager" class="def">watchManager</a> :: Lens' env <a href="Milkshake.html#t:WatchManager" title="Milkshake">WatchManager</a> <a href="#v:watchManager" class="selflink">#</a></p></div></div><div class="top"><p class="src"><span class="keyword">class</span> <a id="t:HasEventChannel" class="def">HasEventChannel</a> env event <span class="keyword">where</span> <a href="#t:HasEventChannel" class="selflink">#</a></p><div class="doc"><p>RIO class for obtaining the event channel to which event messages are pushed.</p></div><div class="subs methods"><p class="caption">Methods</p><p class="src"><a id="v:eventChannel" class="def">eventChannel</a> :: Lens' env (<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Control-Concurrent-Chan.html#t:Chan" title="Control.Concurrent.Chan">Chan</a> event) <a href="#v:eventChannel" class="selflink">#</a></p></div></div><div class="top"><p class="src"><a id="v:withWatchManager" class="def">withWatchManager</a> :: MonadUnliftIO m =&gt; (<a href="Milkshake.html#t:WatchManager" title="Milkshake">WatchManager</a> -&gt; m a) -&gt; m a <a href="#v:withWatchManager" class="selflink">#</a></p><div class="doc"><p>Unlifted version of <code>withManager</code>. </p></div></div><div class="top"><p class="src"><a id="v:shake" class="def">shake</a> :: ShakeOptions -&gt; Rules () -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:IO" title="System.IO">IO</a> () <a href="#v:shake" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:shakeOptions" class="def">shakeOptions</a> :: ShakeOptions <a href="#v:shakeOptions" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:want" class="def">want</a> :: Partial =&gt; [<a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/System-IO.html#t:FilePath" title="System.IO">FilePath</a>] -&gt; Rules () <a href="#v:want" class="selflink">#</a></p></div><div class="top"><p class="src"><a id="v:enter" class="def">enter</a> :: <a href="Milkshake-Data.html#t:Action" title="Milkshake.Data">Action</a> -&gt; Rules () <a href="#v:enter" class="selflink">#</a></p><div class="doc"><p>Create <code>Rules</code> from an <code><a href="Milkshake-Data.html#t:Action" title="Milkshake.Data">Action</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:immediateActions" class="def">immediateActions</a> :: <a href="Milkshake.html#t:Config" title="Milkshake">Config</a> -&gt; <a href="file:///home/johannes/.ghcup/ghc/8.10.7/share/doc/ghc-8.10.7/html/libraries/base-4.14.3.0/Data-Either.html#t:Either" title="Data.Either">Either</a> <a href="Milkshake-Error.html#t:MilkshakeError" title="Milkshake.Error">MilkshakeError</a> [<a href="Milkshake-Data.html#t:Action" title="Milkshake.Data">Action</a>] <a href="#v:immediateActions" class="selflink">#</a></p><div class="doc"><p>Looks for actions that are immediately runnable. These are the plain
  <code><a href="Milkshake-Data.html#t:Action" title="Milkshake.Data">Action</a></code> statements, as well as calls to rules. The calls are expanded
  into actions, and a list of all actions is returned. </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.24.2</p></div></body></html>